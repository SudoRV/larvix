{"ast":null,"code":"var _jsxFileName = \"/data/data/com.termux/files/home/larvix/src/pages/Home.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback } from \"react\";\nimport ReactFlow, { Background, Controls, MiniMap, addEdge, useNodesState, useEdgesState } from \"reactflow\";\nimport \"reactflow/dist/style.css\";\nimport ChatNode from \"..//ChatNode\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst nodeTypes = {\n  chat: ChatNode\n};\nexport default function Home() {\n  _s();\n  const initialNodes = [{\n    id: \"1\",\n    type: \"chat\",\n    position: {\n      x: 400,\n      y: 100\n    },\n    data: {\n      label: \"Root message\"\n    }\n  }];\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\n  const onConnect = useCallback(params => setEdges(eds => addEdge({\n    ...params,\n    animated: true\n  }, eds)), []);\n\n  // Send message update\n  const onSend = (id, message) => {\n    setNodes(nds => nds.map(node => node.id === id ? {\n      ...node,\n      data: {\n        ...node.data,\n        label: message\n      }\n    } : node));\n  };\n\n  // Add child node\n  const addChild = parentId => {\n    const newId = Date.now().toString();\n    const parentNode = nodes.find(n => n.id === parentId);\n    const newNode = {\n      id: newId,\n      type: \"chat\",\n      position: {\n        x: parentNode.position.x,\n        y: parentNode.position.y + 180\n      },\n      data: {\n        label: \"New message\"\n      }\n    };\n    setNodes(nds => [...nds, newNode]);\n    setEdges(eds => [...eds, {\n      id: `e${parentId}-${newId}`,\n      source: parentId,\n      target: newId,\n      animated: true\n    }]);\n  };\n\n  // Delete node\n  const deleteNode = id => {\n    setNodes(nds => nds.filter(n => n.id !== id));\n    setEdges(eds => eds.filter(e => e.source !== id && e.target !== id));\n  };\n\n  // Inject handlers into node data safely\n  const nodesWithHandlers = nodes.map(n => ({\n    ...n,\n    data: {\n      ...n.data,\n      onAddChild: addChild,\n      onDelete: deleteNode,\n      onSend\n    }\n  }));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-screen h-screen bg-neutral-900\",\n    children: /*#__PURE__*/_jsxDEV(ReactFlow, {\n      nodes: nodesWithHandlers,\n      edges: edges,\n      onNodesChange: onNodesChange,\n      onEdgesChange: onEdgesChange,\n      onConnect: onConnect,\n      nodeTypes: nodeTypes,\n      fitView: true,\n      children: [/*#__PURE__*/_jsxDEV(Background, {\n        gap: 20,\n        size: 1,\n        color: \"#444\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MiniMap, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Controls, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"mmoxFmHOvuuD77aIm5gUqDEdUKU=\", false, function () {\n  return [useNodesState, useEdgesState];\n});\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useCallback","ReactFlow","Background","Controls","MiniMap","addEdge","useNodesState","useEdgesState","ChatNode","jsxDEV","_jsxDEV","nodeTypes","chat","Home","_s","initialNodes","id","type","position","x","y","data","label","nodes","setNodes","onNodesChange","edges","setEdges","onEdgesChange","onConnect","params","eds","animated","onSend","message","nds","map","node","addChild","parentId","newId","Date","now","toString","parentNode","find","n","newNode","source","target","deleteNode","filter","e","nodesWithHandlers","onAddChild","onDelete","className","children","fitView","gap","size","color","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/data/data/com.termux/files/home/larvix/src/pages/Home.js"],"sourcesContent":["import React, { useCallback } from \"react\";\nimport ReactFlow, {\n  Background,\n  Controls,\n  MiniMap,\n  addEdge,\n  useNodesState,\n  useEdgesState\n} from \"reactflow\";\nimport \"reactflow/dist/style.css\";\nimport ChatNode from \"..//ChatNode\";\n\nconst nodeTypes = {\n  chat: ChatNode\n};\n\nexport default function Home() {\n  const initialNodes = [\n    {\n      id: \"1\",\n      type: \"chat\",\n      position: { x: 400, y: 100 },\n      data: {\n        label: \"Root message\"\n      }\n    }\n  ];\n\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\n\n  const onConnect = useCallback(\n    (params) =>\n      setEdges((eds) => addEdge({ ...params, animated: true }, eds)),\n    []\n  );\n\n  // Send message update\n  const onSend = (id, message) => {\n    setNodes((nds) =>\n      nds.map((node) =>\n        node.id === id\n          ? { ...node, data: { ...node.data, label: message } }\n          : node\n      )\n    );\n  };\n\n  // Add child node\n  const addChild = (parentId) => {\n    const newId = Date.now().toString();\n    const parentNode = nodes.find((n) => n.id === parentId);\n\n    const newNode = {\n      id: newId,\n      type: \"chat\",\n      position: {\n        x: parentNode.position.x,\n        y: parentNode.position.y + 180\n      },\n      data: {\n        label: \"New message\"\n      }\n    };\n\n    setNodes((nds) => [...nds, newNode]);\n\n    setEdges((eds) => [\n      ...eds,\n      {\n        id: `e${parentId}-${newId}`,\n        source: parentId,\n        target: newId,\n        animated: true\n      }\n    ]);\n  };\n\n  // Delete node\n  const deleteNode = (id) => {\n    setNodes((nds) => nds.filter((n) => n.id !== id));\n    setEdges((eds) =>\n      eds.filter((e) => e.source !== id && e.target !== id)\n    );\n  };\n\n  // Inject handlers into node data safely\n  const nodesWithHandlers = nodes.map((n) => ({\n    ...n,\n    data: {\n      ...n.data,\n      onAddChild: addChild,\n      onDelete: deleteNode,\n      onSend\n    }\n  }));\n\n  return (\n    <div className=\"w-screen h-screen bg-neutral-900\">\n      <ReactFlow\n        nodes={nodesWithHandlers}\n        edges={edges}\n        onNodesChange={onNodesChange}\n        onEdgesChange={onEdgesChange}\n        onConnect={onConnect}\n        nodeTypes={nodeTypes}\n        fitView\n      >\n        <Background gap={20} size={1} color=\"#444\" />\n        <MiniMap />\n        <Controls />\n      </ReactFlow>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}