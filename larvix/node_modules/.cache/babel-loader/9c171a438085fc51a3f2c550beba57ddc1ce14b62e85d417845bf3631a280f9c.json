{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\projects\\\\larvix\\\\larvix\\\\src\\\\components\\\\FlowCanvas.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect } from \"react\";\nimport ReactFlow, { Background, Controls, addEdge, useNodesState, useEdgesState, useReactFlow } from \"reactflow\";\nimport \"reactflow/dist/style.css\";\nimport ChatNode from \"../components/ChatNode\";\n\n// ✅ Define outside component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst nodeTypes = {\n  chat: ChatNode\n};\nexport default function FlowCanvas() {\n  _s();\n  const {\n    zoomIn,\n    zoomOut,\n    setViewport,\n    getViewport,\n    fitView\n  } = useReactFlow();\n  useEffect(() => {\n    setTimeout(() => {\n      fitView({\n        padding: 0.2\n      });\n    }, 0);\n  }, [fitView]);\n  const handleWheel = useCallback(event => {\n    const {\n      x,\n      y,\n      zoom\n    } = getViewport();\n    if (event.ctrlKey) {\n      event.preventDefault();\n      event.deltaY < 0 ? zoomIn({\n        duration: 120\n      }) : zoomOut({\n        duration: 120\n      });\n      return;\n    }\n    if (event.shiftKey) {\n      setViewport({\n        x: x - event.deltaY,\n        y,\n        zoom\n      });\n      return;\n    }\n    setViewport({\n      x,\n      y: y - event.deltaY,\n      zoom\n    });\n  }, [getViewport, setViewport, zoomIn, zoomOut]);\n  const initialNodes = [{\n    id: \"1\",\n    type: \"chat\",\n    position: {\n      x: 400,\n      y: 100\n    },\n    data: {\n      label: \"Root message\"\n    }\n  }];\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\n  const onConnect = useCallback(params => setEdges(eds => addEdge({\n    ...params,\n    animated: true\n  }, eds)), []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-screen h-screen bg-neutral-900\",\n    onWheel: handleWheel,\n    children: /*#__PURE__*/_jsxDEV(ReactFlow, {\n      nodes: nodes,\n      edges: edges,\n      onNodesChange: onNodesChange,\n      onEdgesChange: onEdgesChange,\n      onConnect: onConnect,\n      nodeTypes: nodeTypes,\n      zoomOnScroll: false,\n      panOnScroll: false,\n      panOnDrag: true,\n      preventScrolling: false,\n      defaultViewport: {\n        x: 0,\n        y: 0,\n        zoom: 0.8\n      },\n      children: [/*#__PURE__*/_jsxDEV(Background, {\n        gap: 20,\n        size: 1,\n        color: \"#444\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Controls, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n_s(FlowCanvas, \"xwUT3Vme/3BvKe3mViu13NNnjaU=\", false, function () {\n  return [useReactFlow, useNodesState, useEdgesState];\n});\n_c = FlowCanvas;\nvar _c;\n$RefreshReg$(_c, \"FlowCanvas\");","map":{"version":3,"names":["React","useCallback","useEffect","ReactFlow","Background","Controls","addEdge","useNodesState","useEdgesState","useReactFlow","ChatNode","jsxDEV","_jsxDEV","nodeTypes","chat","FlowCanvas","_s","zoomIn","zoomOut","setViewport","getViewport","fitView","setTimeout","padding","handleWheel","event","x","y","zoom","ctrlKey","preventDefault","deltaY","duration","shiftKey","initialNodes","id","type","position","data","label","nodes","setNodes","onNodesChange","edges","setEdges","onEdgesChange","onConnect","params","eds","animated","className","onWheel","children","zoomOnScroll","panOnScroll","panOnDrag","preventScrolling","defaultViewport","gap","size","color","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/PC/Desktop/projects/larvix/larvix/src/components/FlowCanvas.js"],"sourcesContent":["import React, { useCallback, useEffect } from \"react\";\r\nimport ReactFlow, {\r\n  Background,\r\n  Controls,\r\n  addEdge,\r\n  useNodesState,\r\n  useEdgesState,\r\n  useReactFlow\r\n} from \"reactflow\";\r\nimport \"reactflow/dist/style.css\";\r\nimport ChatNode from \"../components/ChatNode\";\r\n\r\n// ✅ Define outside component\r\nconst nodeTypes = {\r\n  chat: ChatNode\r\n};\r\n\r\nexport default function FlowCanvas() {\r\n  const {\r\n    zoomIn,\r\n    zoomOut,\r\n    setViewport,\r\n    getViewport,\r\n    fitView\r\n  } = useReactFlow();\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      fitView({ padding: 0.2 });\r\n    }, 0);\r\n  }, [fitView]);\r\n\r\n  const handleWheel = useCallback(\r\n    (event) => {\r\n      const { x, y, zoom } = getViewport();\r\n\r\n      if (event.ctrlKey) {\r\n        event.preventDefault();\r\n        event.deltaY < 0\r\n          ? zoomIn({ duration: 120 })\r\n          : zoomOut({ duration: 120 });\r\n        return;\r\n      }\r\n\r\n      if (event.shiftKey) {\r\n        setViewport({ x: x - event.deltaY, y, zoom });\r\n        return;\r\n      }\r\n\r\n      setViewport({ x, y: y - event.deltaY, zoom });\r\n    },\r\n    [getViewport, setViewport, zoomIn, zoomOut]\r\n  );\r\n\r\n  const initialNodes = [\r\n    {\r\n      id: \"1\",\r\n      type: \"chat\",\r\n      position: { x: 400, y: 100 },\r\n      data: { label: \"Root message\" }\r\n    }\r\n  ];\r\n\r\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\r\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\r\n\r\n  const onConnect = useCallback(\r\n    (params) =>\r\n      setEdges((eds) => addEdge({ ...params, animated: true }, eds)),\r\n    []\r\n  );\r\n\r\n  return (\r\n    <div\r\n      className=\"w-screen h-screen bg-neutral-900\"\r\n      onWheel={handleWheel}\r\n    >\r\n      <ReactFlow\r\n        nodes={nodes}\r\n        edges={edges}\r\n        onNodesChange={onNodesChange}\r\n        onEdgesChange={onEdgesChange}\r\n        onConnect={onConnect}\r\n        nodeTypes={nodeTypes}\r\n        zoomOnScroll={false}\r\n        panOnScroll={false}\r\n        panOnDrag={true}\r\n        preventScrolling={false}\r\n\r\n        defaultViewport={{ x: 0, y: 0, zoom: 0.8 }}\r\n      >\r\n        <Background gap={20} size={1} color=\"#444\" />\r\n        <Controls />\r\n      </ReactFlow>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}