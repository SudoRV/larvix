{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\projects\\\\larvix\\\\larvix\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback } from \"react\";\nimport ReactFlow, { Background, Controls, MiniMap, addEdge, useNodesState, useEdgesState } from \"reactflow\";\nimport \"reactflow/dist/style.css\";\nimport ChatNode from \"../components/ChatNode\";\nimport { useReactFlow } from \"reactflow\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n  const {\n    zoomIn,\n    zoomOut,\n    setViewport,\n    getViewport\n  } = useReactFlow();\n  const handleWheel = useCallback(event => {\n    event.preventDefault();\n    const {\n      x,\n      y,\n      zoom\n    } = getViewport();\n\n    // CTRL + scroll → zoom\n    if (event.ctrlKey) {\n      if (event.deltaY < 0) {\n        zoomIn({\n          duration: 100\n        });\n      } else {\n        zoomOut({\n          duration: 100\n        });\n      }\n      return;\n    }\n\n    // SHIFT + scroll → horizontal\n    if (event.shiftKey) {\n      setViewport({\n        x: x - event.deltaY,\n        y,\n        zoom\n      });\n      return;\n    }\n\n    // Normal scroll → vertical\n    setViewport({\n      x,\n      y: y - event.deltaY,\n      zoom\n    });\n  }, [getViewport, setViewport, zoomIn, zoomOut]);\n  const nodeTypes = {\n    chat: ChatNode\n  };\n  const initialNodes = [{\n    id: \"1\",\n    type: \"chat\",\n    position: {\n      x: 400,\n      y: 100\n    },\n    data: {\n      label: \"Root message\"\n    }\n  }];\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\n  const onConnect = useCallback(params => setEdges(eds => addEdge({\n    ...params,\n    animated: true\n  }, eds)), []);\n\n  // Send message update\n  const onSend = (id, message) => {\n    setNodes(nds => nds.map(node => node.id === id ? {\n      ...node,\n      data: {\n        ...node.data,\n        label: message\n      }\n    } : node));\n  };\n\n  // Add child node\n  const addChild = parentId => {\n    const newId = Date.now().toString();\n    const parentNode = nodes.find(n => n.id === parentId);\n    const newNode = {\n      id: newId,\n      type: \"chat\",\n      position: {\n        x: parentNode.position.x,\n        y: parentNode.position.y + parentNode.height + 60\n      },\n      data: {\n        label: \"New message\"\n      }\n    };\n    setNodes(nds => [...nds, newNode]);\n    setEdges(eds => [...eds, {\n      id: `e${parentId}-${newId}`,\n      source: parentId,\n      target: newId,\n      animated: true\n    }]);\n  };\n\n  // Delete node\n  const deleteNode = id => {\n    setNodes(nds => nds.filter(n => n.id !== id));\n    setEdges(eds => eds.filter(e => e.source !== id && e.target !== id));\n  };\n\n  // Inject handlers into node data safely\n  const nodesWithHandlers = nodes.map(n => ({\n    ...n,\n    data: {\n      ...n.data,\n      onAddChild: addChild,\n      onDelete: deleteNode,\n      onSend\n    }\n  }));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-screen h-screen bg-neutral-900\",\n    onWheel: handleWheel,\n    children: /*#__PURE__*/_jsxDEV(ReactFlow, {\n      nodes: nodesWithHandlers,\n      edges: edges,\n      onNodesChange: onNodesChange,\n      onEdgesChange: onEdgesChange,\n      onConnect: onConnect,\n      nodeTypes: nodeTypes,\n      fitView: true,\n      zoomOnScroll: false,\n      panOnScroll: false,\n      panOnDrag: true,\n      children: [/*#__PURE__*/_jsxDEV(Background, {\n        gap: 20,\n        size: 1,\n        color: \"#444\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Controls, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"KLD5jJX13jbE7JxJyODaD7XZgxw=\", false, function () {\n  return [useReactFlow, useNodesState, useEdgesState];\n});\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useCallback","ReactFlow","Background","Controls","MiniMap","addEdge","useNodesState","useEdgesState","ChatNode","useReactFlow","jsxDEV","_jsxDEV","Home","_s","zoomIn","zoomOut","setViewport","getViewport","handleWheel","event","preventDefault","x","y","zoom","ctrlKey","deltaY","duration","shiftKey","nodeTypes","chat","initialNodes","id","type","position","data","label","nodes","setNodes","onNodesChange","edges","setEdges","onEdgesChange","onConnect","params","eds","animated","onSend","message","nds","map","node","addChild","parentId","newId","Date","now","toString","parentNode","find","n","newNode","height","source","target","deleteNode","filter","e","nodesWithHandlers","onAddChild","onDelete","className","onWheel","children","fitView","zoomOnScroll","panOnScroll","panOnDrag","gap","size","color","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/PC/Desktop/projects/larvix/larvix/src/pages/Home.js"],"sourcesContent":["import React, { useCallback } from \"react\";\nimport ReactFlow, {\n  Background,\n  Controls,\n  MiniMap,\n  addEdge,\n  useNodesState,\n  useEdgesState\n} from \"reactflow\";\nimport \"reactflow/dist/style.css\";\nimport ChatNode from \"../components/ChatNode\";\nimport { useReactFlow } from \"reactflow\";\n\nexport default function Home() {\n  const { zoomIn, zoomOut, setViewport, getViewport } = useReactFlow();\n\nconst handleWheel = useCallback(\n  (event) => {\n    event.preventDefault();\n\n    const { x, y, zoom } = getViewport();\n\n    // CTRL + scroll → zoom\n    if (event.ctrlKey) {\n      if (event.deltaY < 0) {\n        zoomIn({ duration: 100 });\n      } else {\n        zoomOut({ duration: 100 });\n      }\n      return;\n    }\n\n    // SHIFT + scroll → horizontal\n    if (event.shiftKey) {\n      setViewport({\n        x: x - event.deltaY,\n        y,\n        zoom\n      });\n      return;\n    }\n\n    // Normal scroll → vertical\n    setViewport({\n      x,\n      y: y - event.deltaY,\n      zoom\n    });\n  },\n  [getViewport, setViewport, zoomIn, zoomOut]\n);\n\nconst nodeTypes = {\n  chat: ChatNode\n};\n  const initialNodes = [\n    {\n      id: \"1\",\n      type: \"chat\",\n      position: { x: 400, y: 100 },\n      data: {\n        label: \"Root message\"\n      }\n    }\n  ];\n\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\n\n  const onConnect = useCallback(\n    (params) =>\n      setEdges((eds) => addEdge({ ...params, animated: true }, eds)),\n    []\n  );\n\n  // Send message update\n  const onSend = (id, message) => {\n    setNodes((nds) =>\n      nds.map((node) =>\n        node.id === id\n          ? { ...node, data: { ...node.data, label: message } }\n          : node\n      )\n    );\n  };\n\n  // Add child node\n  const addChild = (parentId) => {\n    const newId = Date.now().toString();\n    const parentNode = nodes.find((n) => n.id === parentId);\n\n    const newNode = {\n      id: newId,\n      type: \"chat\",\n      position: {\n        x: parentNode.position.x,\n        y: parentNode.position.y + parentNode.height + 60\n      },\n      data: {\n        label: \"New message\"\n      }\n    };\n\n    setNodes((nds) => [...nds, newNode]);\n\n    setEdges((eds) => [\n      ...eds,\n      {\n        id: `e${parentId}-${newId}`,\n        source: parentId,\n        target: newId,\n        animated: true\n      }\n    ]);\n  };\n\n  // Delete node\n  const deleteNode = (id) => {\n    setNodes((nds) => nds.filter((n) => n.id !== id));\n    setEdges((eds) =>\n      eds.filter((e) => e.source !== id && e.target !== id)\n    );\n  };\n\n  // Inject handlers into node data safely\n  const nodesWithHandlers = nodes.map((n) => ({\n    ...n,\n    data: {\n      ...n.data,\n      onAddChild: addChild,\n      onDelete: deleteNode,\n      onSend\n    }\n  }));\n\n  return (\n    <div className=\"w-screen h-screen bg-neutral-900\"\n      onWheel={handleWheel}>\n      <ReactFlow\n        nodes={nodesWithHandlers}\n        edges={edges}\n        onNodesChange={onNodesChange}\n        onEdgesChange={onEdgesChange}\n        onConnect={onConnect}\n        nodeTypes={nodeTypes}\n        fitView\n\n        zoomOnScroll={false}\n        panOnScroll={false}\n        panOnDrag={true}\n      >\n        <Background gap={20} size={1} color=\"#444\" />\n        {/* <MiniMap /> */}\n        <Controls />\n      </ReactFlow>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}